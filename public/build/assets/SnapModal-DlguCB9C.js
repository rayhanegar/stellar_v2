import{k as d,o as c,f,b as o,e as s,n as v,i as x,m as h,g as y}from"./app--_Q-ABEG.js";import{d as k}from"./index-DOvf4NZi.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={props:{modelValue:{type:Boolean,required:!0}},setup(g,{emit:e}){const n=d(""),t=d(!1),i=d(null),a=d(null),l=()=>{n.value="",a.value=null,e("update:modelValue",!1)},b=()=>{console.log("Draft saved"),e("update:modelValue",!1)},m=()=>{console.log("submitting snap");const r=new FormData;r.append("url",i.value.files[0]),r.append("title",n.value),k.Inertia.post(route("snaps.store"),r),console.log("success snap submitted"),l()},u=r=>{const p=r.target.files||r.dataTransfer.files;return p.length>0&&(a.value=URL.createObjectURL(p[0])),a.value};return{title:n,dragOver:t,fileInput:i,imageSrc:a,closeModal:l,saveDraft:b,submitSnap:m,handleFileUpload:u,handleDrop:r=>{u(r),t.value=!1},triggerFileInput:()=>{i.value.click()}}}},S={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center px-5 py-10"},F={class:"bg-black text-white p-5 rounded-lg shadow-lg w-2/3 h-full flex flex-col space-y-5 items-center"},C=o("h3",null,"New Snap",-1),I={key:0},V=["src"],_={key:1,class:"text-center text-gray-500"},M={class:"mt-4 w-full flex justify-between"},U={class:"space-x-2"},O=o("button",{type:"submit",class:"bg-white text-black hover:bg-lavender font-bold py-2 px-4 rounded"}," Save ",-1);function j(g,e,n,t,i,a){return n.modelValue?(c(),f("div",S,[o("div",F,[C,o("form",{onSubmit:e[9]||(e[9]=s((...l)=>t.submitSnap&&t.submitSnap(...l),["prevent"])),class:"w-full h-full flex flex-col",enctype:"multipart/form-data"},[o("div",{onClick:e[1]||(e[1]=(...l)=>t.triggerFileInput&&t.triggerFileInput(...l)),onDragover:e[2]||(e[2]=s(()=>{},["prevent"])),onDragenter:e[3]||(e[3]=s(l=>t.dragOver=!0,["prevent"])),onDragleave:e[4]||(e[4]=s(l=>t.dragOver=!1,["prevent"])),onDrop:e[5]||(e[5]=s((...l)=>t.handleDrop&&t.handleDrop(...l),["prevent"])),class:v(["flex justify-center items-center rounded-lg h-1/2 mb-4 cursor-pointer",t.imageSrc?"border-none":"border-dashed border-2",t.dragOver?"border-blue-500":"border-gray-400"])},[o("input",{type:"file",ref:"fileInput",onChange:e[0]||(e[0]=(...l)=>t.handleFileUpload&&t.handleFileUpload(...l)),class:"hidden",accept:"image/*"},null,544),t.imageSrc?(c(),f("div",I,[o("img",{src:t.imageSrc,class:"max-h-40 max-w-full",alt:"Preview"},null,8,V)])):(c(),f("p",_,"Drag and drop your file here, or click to select file"))],34),x(o("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>t.title=l),class:"w-full h-1/2 p-2 border bg-mediumgrey text-white rounded-lg",placeholder:"Write your notes here..."},null,512),[[h,t.title]]),o("div",M,[o("button",{type:"button",onClick:e[7]||(e[7]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"bg-black text-white font-bold hover:bg-red hover:text-black py-2 px-4 rounded"}," Cancel "),o("div",U,[o("button",{type:"button",onClick:e[8]||(e[8]=(...l)=>t.saveDraft&&t.saveDraft(...l)),class:"bg-black text-white font-bold hover:bg-lavender hover:text-black py-2 px-4 rounded"}," Draft "),O])])],32)])])):y("",!0)}const q=w(D,[["render",j]]);export{q as S};
