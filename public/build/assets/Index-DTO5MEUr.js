import{_ as $}from"./AuthenticatedLayout-D1eF1DR6.js";import{o as d,f as p,b as e,t as x,k as v,h as g,e as V,i as M,m as E,g as k,Q as I,a as _,u as c,w as y,F as C,Z as j,n as S,l as B,c as P}from"./app--_Q-ABEG.js";import{d as h,_ as T}from"./index-DOvf4NZi.js";import{A as U}from"./AddLogo-BF8yqWga.js";import{S as A}from"./SnapModal-DlguCB9C.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-Csz94slR.js";const D={class:"flex flex-col items-center py-4 px-2 rounded-lg bg-grey"},L={class:"w-full items-center h-full flex flex-col justify-end px-3 py-3 space-y-3"},O=["src"],q={class:"font-light"},z={__name:"SnapCard",props:["snap"],setup(n){const t=n;return(r,s)=>(d(),p("div",D,[e("div",L,[e("img",{src:t.snap.url,alt:"Snap Image",class:"w-2/5"},null,8,O),e("p",q,x(t.snap.title),1)])]))}},F={props:{modelValue:{type:Boolean,required:!0},snap:{type:Object,default:()=>({url:"",title:"",id:null,created_at:""})}},setup(n,{emit:t}){const r=v(!1),s=g(()=>n.snap.title),u=g(()=>n.snap.url),f=v(n.snap.title);function l(){n.modelValue&&t("update:modelValue",!1)}function w(){confirm("Are you sure you want to delete this snap?")&&(console.log("deelte the shits"),h.Inertia.delete(route("snaps.destroy",n.snap.id),{onSuccess:()=>{l()}}))}function b(){f.value=s.value,r.value=!0}function m(){h.Inertia.put(route("snaps.update",n.snap.id),{url:u,title:f.value}),l()}return{saveChanges:m,editMode:b,isEdit:r,computedTitle:s,computedUrl:u,closeModal:l,deleteSnap:w}}},G={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center px-5 py-10"},Q={class:"bg-black text-white p-5 rounded-lg shadow-lg w-2/3 h-full flex flex-col justify-between space-y-5"},Z={key:0,class:"flex flex-col h-full space-y-5 p-4"},H=["src"],J={key:1,class:"h-full space-y-5 p-4"},K=["src"],R=e("button",{type:"submit",class:"w-fit bg-black text-white font-bold hover:bg-lavender hover:text-black py-2 px-4 rounded"}," Save ",-1),W={class:"w-full flex justify-between"},X={class:"flex flex-row space-x-4"};function Y(n,t,r,s,u,f){return r.modelValue?(d(),p("div",G,[e("div",Q,[s.isEdit?(d(),p("div",J,[e("form",{onSubmit:t[1]||(t[1]=V(l=>s.saveChanges(),["prevent"])),class:"flex flex-col space-y-2"},[e("img",{src:s.computedUrl,alt:"Snap Image",class:"w-1/2"},null,8,K),M(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=l=>n.editableContent=l),class:"w-full h-full p-2 bg-grey text-white rounded-lg"},null,512),[[E,n.editableContent]]),R],32)])):(d(),p("div",Z,[e("img",{src:s.computedUrl,alt:"",class:"w-2/5"},null,8,H),e("p",null,x(s.computedTitle),1)])),e("div",W,[e("div",X,[e("button",{onClick:t[2]||(t[2]=l=>s.closeModal()),class:"bg-black text-white font-bold hover:bg-white hover:text-black py-2 px-4 rounded"}," Close "),e("button",{onClick:t[3]||(t[3]=l=>s.deleteSnap()),class:"bg-black text-white font-bold hover:bg-red hover:text-black py-2 px-4 rounded"}," Delete ")]),s.isEdit?k("",!0):(d(),p("button",{key:0,onClick:t[4]||(t[4]=(...l)=>s.editMode&&s.editMode(...l)),class:"bg-black text-white font-bold hover:bg-white hover:text-black py-2 px-4 rounded"}," Edit "))])])])):k("",!0)}const ee=N(F,[["render",Y]]),te=e("h2",{class:"text-center"},"Snaps.",-1),se=e("p",{class:"text-center"},"Galleries of photos that represents your day.",-1),le={class:"h-screen w-full flex flex-col space-y-4"},oe={class:"w-full h-14 flex flex-row space-x-4"},ne=e("p",null,"All Entries",-1),ae=[ne],ie=e("p",null,"Today Entries",-1),de=[ie],re={class:"h-full grid grid-cols-3 grid-rows-2 gap-5"},ue={class:"flex flex-row justify-between"},ce=["disabled"],pe=["disabled"],we={__name:"Index",setup(n){const{props:t}=I(),r=g(()=>t.snaps.data);g(()=>t.snaps.links);const s=v(!1),u=v(!1),f=v(null),l=v(""),w=i=>{console.log("Opening snap:",i),f.value=i,u.value=!0};function b(i){i&&h.Inertia.visit(i,{data:{filter:l.value}})}function m(i=""){l.value=i,h.Inertia.get("/snaps",{filter:i},{preserveState:!1})}return(i,o)=>(d(),p(C,null,[_(c(j),{title:"Snaps"}),_($,null,{header:y(()=>[te,se]),default:y(()=>[e("div",le,[e("div",oe,[e("button",{class:S([{"bg-white text-black font-bold":l.value===""},"w-1/2 h-full rounded-lg"]),onClick:o[0]||(o[0]=a=>m(""))},ae,2),e("button",{class:S([{"bg-white text-black font-bold":l.value==="today"},"w-1/2 h-full rounded-lg"]),onClick:o[1]||(o[1]=a=>m("today"))},de,2)]),e("div",re,[(d(!0),p(C,null,B(r.value,a=>(d(),P(z,{onClick:fe=>w(a),key:a.id,snap:a},null,8,["onClick","snap"]))),128)),_(T,{onClick:o[2]||(o[2]=a=>s.value=!0)},{icon:y(()=>[_(U)]),_:1})]),e("div",ue,[e("button",{onClick:o[3]||(o[3]=a=>b(c(t).snaps.prev_page_url)),disabled:!c(t).snaps.prev_page_url}," Previous ",8,ce),e("span",null,"Page "+x(c(t).snaps.current_page)+" of "+x(c(t).snaps.last_page),1),e("button",{onClick:o[4]||(o[4]=a=>b(c(t).snaps.next_page_url)),disabled:!c(t).snaps.next_page_url}," Next ",8,pe)])])]),_:1}),_(A,{modelValue:s.value,"onUpdate:modelValue":o[5]||(o[5]=a=>s.value=a)},null,8,["modelValue"]),_(ee,{modelValue:u.value,"onUpdate:modelValue":o[6]||(o[6]=a=>u.value=a),snap:f.value},null,8,["modelValue","snap"])],64))}};export{we as default};
